
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Values &#8212; ShutTUM 1.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Downloads" href="downloads.html" />
    <link rel="prev" title="Devices" href="devices.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="values">
<h1>Values<a class="headerlink" href="#values" title="Permalink to this headline">¶</a></h1>
<p>All types of values <strong>ShutTUM</strong> consists of</p>
<p><a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>: Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.Value.reference" title="ShutTUM.values.Value.reference"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reference</span></code></a></td>
<td>The name as <code class="docutils literal notranslate"><span class="pre">str</span></code> of the reference frame, this value is associated with.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.Value.stamp" title="ShutTUM.values.Value.stamp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stamp</span></code></a></td>
<td>The timestamp in seconds with decimal places.</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#ShutTUM.values.GroundTruth" title="ShutTUM.values.GroundTruth"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GroundTruth</span></code></a>: Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.GroundTruth.extrapolate" title="ShutTUM.values.GroundTruth.extrapolate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extrapolate</span></code></a>([method])</td>
<td>Find a matching ground truth for a certain <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> based on a extrapolation method</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.GroundTruth.interpolate" title="ShutTUM.values.GroundTruth.interpolate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpolate</span></code></a>(stamp[,&nbsp;max_stamp_delta,&nbsp;…])</td>
<td>This function enables you to find the interpolated ground truth of a record given a certain timestamp.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.GroundTruth.marker" title="ShutTUM.values.GroundTruth.marker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">marker</span></code></a></td>
<td>Returns the <a class="reference internal" href="#ShutTUM.values.Marker" title="ShutTUM.values.Marker"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Marker</span></code></a>, which got tracked by this ground truth.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.GroundTruth.stereo" title="ShutTUM.values.GroundTruth.stereo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stereo</span></code></a>(shutter[,&nbsp;extrapolation])</td>
<td>Find a matching stereo image pair for this ground truth value.</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#ShutTUM.values.Marker" title="ShutTUM.values.Marker"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Marker</span></code></a>: Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code>(sequence,&nbsp;stamp)</td>
<td>Initialize self.</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#ShutTUM.values.Image" title="ShutTUM.values.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a>: Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.Image.distortion" title="ShutTUM.values.Image.distortion"><code class="xref py py-obj docutils literal notranslate"><span class="pre">distortion</span></code></a>(model)</td>
<td>Get the distortion coefficients the camera which took this image</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.Image.exposure" title="ShutTUM.values.Image.exposure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">exposure</span></code></a></td>
<td>The exposure time as float in milli seconds, that this image was illuminated</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.Image.focal" title="ShutTUM.values.Image.focal"><code class="xref py py-obj docutils literal notranslate"><span class="pre">focal</span></code></a></td>
<td>The camera’s focal length as named tuple <code class="docutils literal notranslate"><span class="pre">Vector2(x,</span> <span class="pre">y)</span></code> in pixels</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.Image.groundtruth" title="ShutTUM.values.Image.groundtruth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">groundtruth</span></code></a>([max_stamp_delta,&nbsp;…])</td>
<td>Find the matching <a class="reference internal" href="#ShutTUM.values.GroundTruth" title="ShutTUM.values.GroundTruth"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GroundTruth</span></code></a> value for this image.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.Image.ID" title="ShutTUM.values.Image.ID"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ID</span></code></a></td>
<td>The frame ID as int of this image.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.Image.illuminance" title="ShutTUM.values.Image.illuminance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">illuminance</span></code></a></td>
<td>The image’s illuminance in lux.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.Image.imu" title="ShutTUM.values.Image.imu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">imu</span></code></a></td>
<td>The matching <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> for this image.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.Image.K" title="ShutTUM.values.Image.K"><code class="xref py py-obj docutils literal notranslate"><span class="pre">K</span></code></a></td>
<td>The intrinsic camera matrix as 3x3</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.Image.load" title="ShutTUM.values.Image.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>()</td>
<td>Loads the JPEG itself into memory:</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.Image.opposite" title="ShutTUM.values.Image.opposite"><code class="xref py py-obj docutils literal notranslate"><span class="pre">opposite</span></code></a></td>
<td>This holds the reference of the opposite image, that is the image taken from the other camera with the  same shutter.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.Image.path" title="ShutTUM.values.Image.path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">path</span></code></a></td>
<td>The path to the JPEG file of this image, relative to the the construction parameter of  <code class="xref any docutils literal notranslate"><span class="pre">Sequence(...)</span></code>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.Image.principle" title="ShutTUM.values.Image.principle"><code class="xref py py-obj docutils literal notranslate"><span class="pre">principle</span></code></a></td>
<td>The camera’s principle point as named tuple <code class="docutils literal notranslate"><span class="pre">Vector2(x,</span> <span class="pre">y)</span></code> in pixels</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.Image.shutter" title="ShutTUM.values.Image.shutter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shutter</span></code></a></td>
<td>The shutter method with which this image was captured as string, either <code class="docutils literal notranslate"><span class="pre">&quot;rolling&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;global&quot;</span></code></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.Image.resolution" title="ShutTUM.values.Image.resolution"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resolution</span></code></a></td>
<td>Returns the resolution of the cameras as a named tuple <code class="docutils literal notranslate"><span class="pre">Resolution(width,</span> <span class="pre">height)</span></code></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#ShutTUM.values.StereoImage" title="ShutTUM.values.StereoImage"><code class="xref any py py-class docutils literal notranslate"><span class="pre">StereoImage</span></code></a>: Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.StereoImage.exposure" title="ShutTUM.values.StereoImage.exposure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">exposure</span></code></a></td>
<td>The exposure time as float in milli seconds, that this image was illuminated.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.StereoImage.extrapolate" title="ShutTUM.values.StereoImage.extrapolate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extrapolate</span></code></a>(shutter[,&nbsp;method])</td>
<td>Find a matching image for a certain <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> based on a extrapolation method</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.StereoImage.ID" title="ShutTUM.values.StereoImage.ID"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ID</span></code></a></td>
<td>The frame ID as int of this image.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.StereoImage.illuminance" title="ShutTUM.values.StereoImage.illuminance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">illuminance</span></code></a></td>
<td>The estimated illuminance measured by the <a class="reference external" href="https://cdn-shop.adafruit.com/datasheets/TSL2561.pdf">TSL2561 Lux-sensor</a>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.StereoImage.imu" title="ShutTUM.values.StereoImage.imu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">imu</span></code></a></td>
<td>The matching <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> for this image.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.StereoImage.L" title="ShutTUM.values.StereoImage.L"><code class="xref py py-obj docutils literal notranslate"><span class="pre">L</span></code></a></td>
<td>The reference to the left <a class="reference internal" href="#ShutTUM.values.Image" title="ShutTUM.values.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.StereoImage.R" title="ShutTUM.values.StereoImage.R"><code class="xref py py-obj docutils literal notranslate"><span class="pre">R</span></code></a></td>
<td>The reference to the right <a class="reference internal" href="#ShutTUM.values.Image" title="ShutTUM.values.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.StereoImage.resolution" title="ShutTUM.values.StereoImage.resolution"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resolution</span></code></a></td>
<td>Returns the resolution of the cameras as a named tuple <code class="docutils literal notranslate"><span class="pre">Resolution(width,</span> <span class="pre">height)</span></code></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.StereoImage.shutter" title="ShutTUM.values.StereoImage.shutter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">shutter</span></code></a></td>
<td>The shutter method with which this stereo image was captured as string, either <code class="docutils literal notranslate"><span class="pre">&quot;rolling&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;global&quot;</span></code></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a>: Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.Imu.acceleration" title="ShutTUM.values.Imu.acceleration"><code class="xref py py-obj docutils literal notranslate"><span class="pre">acceleration</span></code></a></td>
<td>The acceleration 3D vector [x,y,z] of this measurement as</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.Imu.angular_velocity" title="ShutTUM.values.Imu.angular_velocity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">angular_velocity</span></code></a></td>
<td>The angular velocity 3D vector around [x,y,z] of this measurement as</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#ShutTUM.values.Imu.extrapolate" title="ShutTUM.values.Imu.extrapolate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extrapolate</span></code></a>([method])</td>
<td>Find a matching <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> value for a certain <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> based on a extrapolation method</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.Imu.groundtruth" title="ShutTUM.values.Imu.groundtruth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">groundtruth</span></code></a>([max_stamp_delta,&nbsp;…])</td>
<td>Find the matching <a class="reference internal" href="#ShutTUM.values.GroundTruth" title="ShutTUM.values.GroundTruth"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GroundTruth</span></code></a> value for this <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> value.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">ShutTUM.values.Imu.interpolate</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#ShutTUM.values.Imu.stereo" title="ShutTUM.values.Imu.stereo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stereo</span></code></a>(shutter[,&nbsp;extrapolation])</td>
<td>The matching stereo image for this <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> measurement</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="ShutTUM.values.Value">
<em class="property">class </em><code class="descclassname">ShutTUM.values.</code><code class="descname">Value</code><span class="sig-paren">(</span><em>sequence</em>, <em>stamp</em>, <em>reference</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#Value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>A Value represents every measurement of a sensor taken in a specific time instance.
A camera might capture an <a class="reference internal" href="#ShutTUM.values.Image" title="ShutTUM.values.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a>, an IMU will record <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> or the motion capture system 
<a class="reference internal" href="#ShutTUM.values.GroundTruth" title="ShutTUM.values.GroundTruth"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GroundTruth</span></code></a>.</p>
<img alt="_images/frames.png" src="_images/frames.png" />
<p>All these values have some common properties in the ShutTUM:</p>
<ol class="arabic simple">
<li>They are single, time-discrete values (see <code class="xref any docutils literal notranslate"><span class="pre">stamp</span></code>)</li>
<li>They are related to a certain reference frame (see <code class="xref any docutils literal notranslate"><span class="pre">reference</span></code>)</li>
<li>They all have a transformation from its reference frame towards that of <code class="docutils literal notranslate"><span class="pre">&quot;cam1&quot;</span></code></li>
</ol>
<p>Since every value has these three properties, you can achieve easily get the transformations between different  values. 
Therefore the leftshift <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> and rightshift <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> operator has been overloaded. Both accept as their right parameter either:</p>
<ul class="simple">
<li>a string indicating the desired reference to or from which to transform (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;cam1&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;cam2&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;world&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;imu&quot;</span></code> …)</li>
<li>or another value, whose <code class="xref any docutils literal notranslate"><span class="pre">reference</span></code> property is used to determine the transform</li>
</ul>
<p>The direction of the “shift” means “How is the transformation from reference x to y?”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># assume we have an image and a ground truth value</span>
<span class="n">image</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">sequence</span><span class="o">.</span><span class="n">cameras</span><span class="p">(</span><span class="s1">&#39;global&#39;</span><span class="p">)))</span>   <span class="c1"># first frame</span>
<span class="n">gt</span>    <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">sequence</span><span class="o">.</span><span class="n">mocap</span><span class="p">)</span>                     <span class="c1"># first ground truth</span>

<span class="c1"># Since both Image and GroundTruth derive from Value, they have a reference ...</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Image </span><span class="si">%s</span><span class="s2"> is associated with reference </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">image</span><span class="o">.</span><span class="n">reference</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ground Truth </span><span class="si">%s</span><span class="s2"> is associated with reference </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">gt</span><span class="p">,</span> <span class="n">gt</span><span class="o">.</span><span class="n">reference</span><span class="p">))</span> 
 
<span class="c1"># Since we know both transforms to &quot;cam1&quot;, we can compute the transformation between the two</span>
<span class="n">P_img_wrld</span> <span class="o">=</span> <span class="n">image</span> <span class="o">&lt;&lt;</span> <span class="n">gt</span>     <span class="c1"># pose of the image relative to the world </span>
<span class="n">P_img_wrld</span> <span class="o">=</span> <span class="n">gt</span> <span class="o">&gt;&gt;</span> <span class="n">image</span>     <span class="c1"># same as line above</span>
<span class="n">P_img_wrld</span> <span class="o">=</span> <span class="n">gt</span> <span class="o">&gt;&gt;</span> <span class="s2">&quot;cam1&quot;</span>    <span class="c1"># you can also specify the reference (on the right) as string directly</span>
<span class="c1"># P_img_wrld = &quot;cam1&quot; &lt;&lt; gt  # This fails, since the shift operators cannot be overloaded for strings in the first place</span>
</pre></div>
</div>
<dl class="method">
<dt id="ShutTUM.values.Value.dt">
<code class="descname">dt</code><span class="sig-paren">(</span><em>ifunknown=0.001</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#Value.dt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.Value.dt" title="Permalink to this definition">¶</a></dt>
<dd><p>The time delta elapsed since the last <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> of this type.
Note that this value varies depending on the concrete type of value. That means dt will be about 1/25 s
for an <a class="reference internal" href="#ShutTUM.values.Image" title="ShutTUM.values.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> while around 1/120 s for a <a class="reference internal" href="#ShutTUM.values.GroundTruth" title="ShutTUM.values.GroundTruth"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GroundTruth</span></code></a>. If a previous value is not present
this will return time specified by <code class="docutils literal notranslate"><span class="pre">ifunknown</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Value.reference">
<code class="descname">reference</code><a class="headerlink" href="#ShutTUM.values.Value.reference" title="Permalink to this definition">¶</a></dt>
<dd><p>The name as <code class="docutils literal notranslate"><span class="pre">str</span></code> of the reference frame, this value is associated with.</p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Value.stamp">
<code class="descname">stamp</code><a class="headerlink" href="#ShutTUM.values.Value.stamp" title="Permalink to this definition">¶</a></dt>
<dd><p>The timestamp in seconds with decimal places. This stamp describes the exact moment this
values has been recorded.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ShutTUM.values.GroundTruth">
<em class="property">class </em><code class="descclassname">ShutTUM.values.</code><code class="descname">GroundTruth</code><span class="sig-paren">(</span><em>sequence</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#GroundTruth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.GroundTruth" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShutTUM.values.Value</span></code></a></p>
<p>A ground truth is a <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> with the reference <code class="docutils literal notranslate"><span class="pre">&quot;world&quot;</span></code>.
The ground truth is taken with a higher frequency than the images (around 120 Hz), but slower than the imu. 
Since the mocap system is stationary in one room only, it will not cover the whole duration of this sequence.</p>
<dl class="staticmethod">
<dt id="ShutTUM.values.GroundTruth.extrapolate">
<em class="property">static </em><code class="descname">extrapolate</code><span class="sig-paren">(</span><em>method='closest'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#GroundTruth.extrapolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.GroundTruth.extrapolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a matching ground truth for a certain <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> based on a extrapolation method</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> – The value for which to find a matching ground truth value</li>
<li><strong>method</strong> – <p>An optional extrapolation method to determine the rules for a “match”:</p>
<ul>
<li><code class="docutils literal notranslate"><span class="pre">&quot;closest&quot;</span></code>: the image with the least difference to value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code>: the image with the next larger time stamp than value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;prev&quot;</span></code>: the image with the next smaller time stamp than value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;exact&quot;</span></code>: the image where value.stamp == image.stamp holds is chosen, None otherwise</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The matching ground truth or None if no was found</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="ShutTUM.values.GroundTruth.interpolate">
<em class="property">static </em><code class="descname">interpolate</code><span class="sig-paren">(</span><em>stamp</em>, <em>max_stamp_delta=0.5</em>, <em>position_interpolation=&lt;function Interpolation.linear&gt;</em>, <em>orientation_interpolation=&lt;function Interpolation.slerp&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#GroundTruth.interpolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.GroundTruth.interpolate" title="Permalink to this definition">¶</a></dt>
<dd><p>This function enables you to find the interpolated ground truth of a record given a certain timestamp.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sequence</strong> – the sequence which holds all ground truth values to interpolate over</li>
<li><strong>stamp</strong> (<em>float</em>) – the time at which to interpolate (in seconds, with decimal places)</li>
<li><strong>max_stamp_delta</strong> – specify the maximal allowed time deviation [s] for interpolation. When the previous 
(or next) closest ground truth value is older (or newer) then this delta, None will be 
returned.</li>
<li><strong>position_interpolation</strong> – A predefined or custom interpolation function</li>
<li><strong>orientation_interpolation</strong> – A predefined or custom interpolation function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <a class="reference internal" href="#ShutTUM.values.GroundTruth" title="ShutTUM.values.GroundTruth"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GroundTruth</span></code></a> -Value</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="sequence.html#ShutTUM.Interpolation" title="ShutTUM.Interpolation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Interpolation</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.GroundTruth.marker">
<code class="descname">marker</code><a class="headerlink" href="#ShutTUM.values.GroundTruth.marker" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="#ShutTUM.values.Marker" title="ShutTUM.values.Marker"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Marker</span></code></a>, which got tracked by this ground truth.</p>
</dd></dl>

<dl class="method">
<dt id="ShutTUM.values.GroundTruth.stereo">
<code class="descname">stereo</code><span class="sig-paren">(</span><em>shutter</em>, <em>extrapolation='closest'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#GroundTruth.stereo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.GroundTruth.stereo" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a matching stereo image pair for this ground truth value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>shutter</strong> – The shutter type of the images to find (<code class="docutils literal notranslate"><span class="pre">&quot;global&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;rolling&quot;</span></code>, <strong>not</strong> <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>)</li>
<li><strong>extrapolation</strong> – An optional extrapolation method to determine the rules for a “match” 
(one of <code class="docutils literal notranslate"><span class="pre">&quot;closest&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;prev&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;exact&quot;</span></code>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The matching stereo image or None if no was found</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref any docutils literal notranslate"><span class="pre">ShutTUM.StereoImage.extrapolate</span></code></p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ShutTUM.values.Marker">
<em class="property">class </em><code class="descclassname">ShutTUM.values.</code><code class="descname">Marker</code><span class="sig-paren">(</span><em>sequence</em>, <em>stamp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#Marker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.Marker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShutTUM.values.Value</span></code></a></p>
<p>The marker is an IR ball placed on top of the setup to be tracked by the mocap.</p>
<p>To enable transformation calculations, this class inherits from <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>,
though its transformation stays constant over time.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a></p>
</div>
</dd></dl>

<dl class="class">
<dt id="ShutTUM.values.Image">
<em class="property">class </em><code class="descclassname">ShutTUM.values.</code><code class="descname">Image</code><span class="sig-paren">(</span><em>stereo</em>, <em>shutter</em>, <em>left</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#Image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.Image" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShutTUM.values.Value</span></code></a></p>
<p>An image is a <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> with its reference set to one of <code class="docutils literal notranslate"><span class="pre">&quot;cam1&quot;</span></code> … <code class="docutils literal notranslate"><span class="pre">&quot;cam4&quot;</span></code>.</p>
<p>Each image is recorded by a <a class="reference internal" href="devices.html#ShutTUM.devices.StereoCamera" title="ShutTUM.devices.StereoCamera"><code class="xref any py py-class docutils literal notranslate"><span class="pre">StereoCamera</span></code></a>, which has a shutter type, so as its images. Note, though,
that each camera might differ its shutter methods between sequences, to achieve statistical independence. 
That means, that you cannot rely on e.g. <code class="docutils literal notranslate"><span class="pre">&quot;cam1&quot;</span></code> always having <code class="docutils literal notranslate"><span class="pre">&quot;global&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;rolling&quot;</span></code> shutter, nor as the other cams.</p>
<p>The cameras record data at approximately <strong>20 FPS</strong>, but sometimes their might exist frame drops.</p>
<p>You can query a lot of information from an image such as its <code class="xref any docutils literal notranslate"><span class="pre">shutter</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">exposure</span></code> time and <code class="xref any docutils literal notranslate"><span class="pre">ID</span></code>.
Since it is a <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> all transform shenanigans apply.</p>
<dl class="attribute">
<dt id="ShutTUM.values.Image.ID">
<code class="descname">ID</code><a class="headerlink" href="#ShutTUM.values.Image.ID" title="Permalink to this definition">¶</a></dt>
<dd><p>The frame ID as int of this image. This number, prepended to 5 digits is also the name of the JPEG file</p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Image.K">
<code class="descname">K</code><a class="headerlink" href="#ShutTUM.values.Image.K" title="Permalink to this definition">¶</a></dt>
<dd><p>The intrinsic camera matrix as 3x3 
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html">ndarray</a></p>
</dd></dl>

<dl class="method">
<dt id="ShutTUM.values.Image.distortion">
<code class="descname">distortion</code><span class="sig-paren">(</span><em>model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#Image.distortion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.Image.distortion" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the distortion coefficients the camera which took this image
It looks up the parameters in <code class="docutils literal notranslate"><span class="pre">params/params.yaml/&lt;cam&gt;/distortion/&lt;model&gt;</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>model</strong> – One of <code class="docutils literal notranslate"><span class="pre">&quot;fov&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;radtan&quot;</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">either a float <span class="math notranslate">\(\omega\)</span> for FOV model, or a named tuple with</td>
</tr>
</tbody>
</table>
<p>the four elements <code class="docutils literal notranslate"><span class="pre">DistCooefs(k1,</span> <span class="pre">k2,</span> <span class="pre">r1,</span> <span class="pre">r2)</span></code> for Rad Tan model.</p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Image.exposure">
<code class="descname">exposure</code><a class="headerlink" href="#ShutTUM.values.Image.exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>The exposure time as float in milli seconds, that this image was illuminated</p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Image.focal">
<code class="descname">focal</code><a class="headerlink" href="#ShutTUM.values.Image.focal" title="Permalink to this definition">¶</a></dt>
<dd><p>The camera’s focal length as named tuple <code class="docutils literal notranslate"><span class="pre">Vector2(x,</span> <span class="pre">y)</span></code> in pixels</p>
</dd></dl>

<dl class="method">
<dt id="ShutTUM.values.Image.groundtruth">
<code class="descname">groundtruth</code><span class="sig-paren">(</span><em>max_stamp_delta=0.5</em>, <em>position_interpolation=&lt;function Interpolation.linear&gt;</em>, <em>orientation_interpolation=&lt;function Interpolation.slerp&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#Image.groundtruth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.Image.groundtruth" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the matching <a class="reference internal" href="#ShutTUM.values.GroundTruth" title="ShutTUM.values.GroundTruth"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GroundTruth</span></code></a> value for this image. Since the motion capture system and the cameras
are not synced, we need to interpolate between ground truths by image’s time stamp.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>max_stamp_delta</strong> – specify the maximal allowed time deviation [s] for interpolation. When the previous 
(or next) closest ground truth value is older (or newer) then this delta, None will be 
returned.</li>
<li><strong>position_interpolation</strong> – a predefined or custom interpolation function to interpolate positions</li>
<li><strong>orientation_interpolation</strong> – a predefined or custom interpolation function to interpolate quaternions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the matching interpolated ground truth or None, if any of its values was NaN</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref any docutils literal notranslate"><span class="pre">ShutTUM.GroundTruth.interpolate</span></code></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Image.illuminance">
<code class="descname">illuminance</code><a class="headerlink" href="#ShutTUM.values.Image.illuminance" title="Permalink to this definition">¶</a></dt>
<dd><p>The image’s illuminance in lux.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref any docutils literal notranslate"><span class="pre">StereoImage.illuminance</span></code></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Image.imu">
<code class="descname">imu</code><a class="headerlink" href="#ShutTUM.values.Image.imu" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> for this image. Since the capture of an image is synchronized with the IMU,
no interpolation is needed.</p>
</dd></dl>

<dl class="method">
<dt id="ShutTUM.values.Image.load">
<code class="descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#Image.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.Image.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the JPEG itself into memory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">image</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">pixels</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>   <span class="c1"># uses cv2.imread()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pixels</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>     <span class="c1"># (1024, 1280)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">pixels</span><span class="p">))</span>     <span class="c1"># numpy.ndarray</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Image.opposite">
<code class="descname">opposite</code><a class="headerlink" href="#ShutTUM.values.Image.opposite" title="Permalink to this definition">¶</a></dt>
<dd><p>This holds the reference of the opposite image, that is the image taken from the other camera with the 
same shutter.</p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Image.path">
<code class="descname">path</code><a class="headerlink" href="#ShutTUM.values.Image.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the JPEG file of this image, relative to the the construction parameter of 
<code class="xref any docutils literal notranslate"><span class="pre">Sequence(...)</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Image.principle">
<code class="descname">principle</code><a class="headerlink" href="#ShutTUM.values.Image.principle" title="Permalink to this definition">¶</a></dt>
<dd><p>The camera’s principle point as named tuple <code class="docutils literal notranslate"><span class="pre">Vector2(x,</span> <span class="pre">y)</span></code> in pixels</p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Image.resolution">
<code class="descname">resolution</code><a class="headerlink" href="#ShutTUM.values.Image.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the resolution of the cameras as a named tuple <code class="docutils literal notranslate"><span class="pre">Resolution(width,</span> <span class="pre">height)</span></code></p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref any docutils literal notranslate"><span class="pre">Sequence.resolution</span></code></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Image.shutter">
<code class="descname">shutter</code><a class="headerlink" href="#ShutTUM.values.Image.shutter" title="Permalink to this definition">¶</a></dt>
<dd><p>The shutter method with which this image was captured as string, either <code class="docutils literal notranslate"><span class="pre">&quot;rolling&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;global&quot;</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ShutTUM.values.StereoImage">
<em class="property">class </em><code class="descclassname">ShutTUM.values.</code><code class="descname">StereoImage</code><span class="sig-paren">(</span><em>sequence</em>, <em>data</em>, <em>shutter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#StereoImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.StereoImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShutTUM.values.Value</span></code></a></p>
<p>A stereo image contains of two individual <a class="reference internal" href="#ShutTUM.values.Image" title="ShutTUM.values.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> s, a left and a right one.
It is more or less a container for the two.</p>
<p>Note that for internal reasons a stereo image derives from <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a>. However, you should
not use the transform functions (<code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code>) with this, since a stereo image contains two 
reference frames, one for each camera:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">id</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">stereo</span> <span class="o">=</span> <span class="n">sequence</span><span class="o">.</span><span class="n">cameras</span><span class="p">(</span><span class="s1">&#39;rolling&#39;</span><span class="p">)[</span><span class="nb">id</span><span class="p">]</span>

<span class="c1"># The following is ambiguous</span>
<span class="n">notok</span> <span class="o">=</span> <span class="n">stereo</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;imu&quot;</span>   <span class="c1"># which camera of the two do you mean?</span>

<span class="c1"># Better would be</span>
<span class="n">ok</span> <span class="o">=</span> <span class="n">stereo</span><span class="o">.</span><span class="n">L</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;imu&quot;</span>    <span class="c1"># (which is the same as above)</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="ShutTUM.values.StereoImage.ID">
<code class="descname">ID</code><a class="headerlink" href="#ShutTUM.values.StereoImage.ID" title="Permalink to this definition">¶</a></dt>
<dd><p>The frame ID as int of this image. This number, prepended to 5 digits is also the name of the JPEG file</p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.StereoImage.L">
<code class="descname">L</code><a class="headerlink" href="#ShutTUM.values.StereoImage.L" title="Permalink to this definition">¶</a></dt>
<dd><p>The reference to the left <a class="reference internal" href="#ShutTUM.values.Image" title="ShutTUM.values.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.StereoImage.R">
<code class="descname">R</code><a class="headerlink" href="#ShutTUM.values.StereoImage.R" title="Permalink to this definition">¶</a></dt>
<dd><p>The reference to the right <a class="reference internal" href="#ShutTUM.values.Image" title="ShutTUM.values.Image"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.StereoImage.exposure">
<code class="descname">exposure</code><a class="headerlink" href="#ShutTUM.values.StereoImage.exposure" title="Permalink to this definition">¶</a></dt>
<dd><p>The exposure time as float in milli seconds, that this image was illuminated. This is constant for 
<code class="xref any docutils literal notranslate"><span class="pre">L</span></code> and <code class="xref any docutils literal notranslate"><span class="pre">R</span></code></p>
</dd></dl>

<dl class="staticmethod">
<dt id="ShutTUM.values.StereoImage.extrapolate">
<em class="property">static </em><code class="descname">extrapolate</code><span class="sig-paren">(</span><em>shutter</em>, <em>method='closest'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#StereoImage.extrapolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.StereoImage.extrapolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a matching image for a certain <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> based on a extrapolation method</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> – The value for which to find a matching image</li>
<li><strong>shutter</strong> – The shutter type of the images to find (<code class="docutils literal notranslate"><span class="pre">&quot;global&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;rolling&quot;</span></code>, <strong>not</strong> <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>)</li>
<li><strong>method</strong> – <p>An optional extrapolation method to determine the rules for a “match”:</p>
<ul>
<li><code class="docutils literal notranslate"><span class="pre">&quot;closest&quot;</span></code>: the image with the least difference to value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code>: the image with the next larger time stamp than value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;prev&quot;</span></code>: the image with the next smaller time stamp than value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;exact&quot;</span></code>: the image where value.stamp == image.stamp holds is chosen, None otherwise</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The matching stereo image or None if no was found</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref any docutils literal notranslate"><span class="pre">Sequence.cameras</span></code></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.StereoImage.illuminance">
<code class="descname">illuminance</code><a class="headerlink" href="#ShutTUM.values.StereoImage.illuminance" title="Permalink to this definition">¶</a></dt>
<dd><p>The estimated illuminance measured by the <a class="reference external" href="https://cdn-shop.adafruit.com/datasheets/TSL2561.pdf">TSL2561 Lux-sensor</a>.</p>
<p>This float is measured in lx but is only an approximation. This value is constant for both 
<code class="xref any docutils literal notranslate"><span class="pre">L</span></code> and <code class="xref any docutils literal notranslate"><span class="pre">R</span></code>. Based on this value, the estimated 
<a class="reference internal" href="#ShutTUM.values.StereoImage.exposure" title="ShutTUM.values.StereoImage.exposure"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">exposure</span></code></a> time can be computed with the following hand fitted formula:</p>
<img alt="_images/autoexposure.svg" src="_images/autoexposure.svg" /><div class="math notranslate">
\[t_{exposure} \left ( E_v \right ) = 198.1527 \cdot E_v^{-0.8003}\]</div>
<p>This will return <code class="docutils literal notranslate"><span class="pre">float('nan')</span></code> if no measurement was taken, such as during an I2C error.</p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.StereoImage.imu">
<code class="descname">imu</code><a class="headerlink" href="#ShutTUM.values.StereoImage.imu" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> for this image. Since the capture of an image is synchronized with the IMU,
no interpolation is needed.</p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.StereoImage.resolution">
<code class="descname">resolution</code><a class="headerlink" href="#ShutTUM.values.StereoImage.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the resolution of the cameras as a named tuple <code class="docutils literal notranslate"><span class="pre">Resolution(width,</span> <span class="pre">height)</span></code></p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref any docutils literal notranslate"><span class="pre">Sequence.resolution</span></code></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.StereoImage.shutter">
<code class="descname">shutter</code><a class="headerlink" href="#ShutTUM.values.StereoImage.shutter" title="Permalink to this definition">¶</a></dt>
<dd><p>The shutter method with which this stereo image was captured as string, either <code class="docutils literal notranslate"><span class="pre">&quot;rolling&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;global&quot;</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ShutTUM.values.Imu">
<em class="property">class </em><code class="descclassname">ShutTUM.values.</code><code class="descname">Imu</code><span class="sig-paren">(</span><em>sequence</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#Imu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.Imu" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShutTUM.values.Value</span></code></a></p>
<p>An imu value represents the measurement of IMU sensor at a specific time.</p>
<p>Since it is a <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> you can use it to calculate transforms with it. Also 
the IMU is synchronized in a way, that it measures exactly seven times 
per image. Any <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> value consist of three acceleration measurements in X, Y and Z 
and three angular velocity measurements around the X, Y, and Z axis.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="sequence.html#ShutTUM.Interpolation" title="ShutTUM.Interpolation"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Interpolation</span></code></a> for the data frequency &amp; <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> for the reference frame</p>
</div>
<dl class="attribute">
<dt id="ShutTUM.values.Imu.acceleration">
<code class="descname">acceleration</code><a class="headerlink" href="#ShutTUM.values.Imu.acceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>The acceleration 3D vector [x,y,z] of this measurement as 
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html">ndarray</a> 
in <span class="math notranslate">\(\frac{m}{s^2}\)</span></p>
</dd></dl>

<dl class="attribute">
<dt id="ShutTUM.values.Imu.angular_velocity">
<code class="descname">angular_velocity</code><a class="headerlink" href="#ShutTUM.values.Imu.angular_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>The angular velocity 3D vector around [x,y,z] of this measurement as 
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html">ndarray</a>
in <span class="math notranslate">\(\frac{rad}{s}\)</span></p>
</dd></dl>

<dl class="staticmethod">
<dt id="ShutTUM.values.Imu.extrapolate">
<em class="property">static </em><code class="descname">extrapolate</code><span class="sig-paren">(</span><em>method='closest'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#Imu.extrapolate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.Imu.extrapolate" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a matching <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> value for a certain <a class="reference internal" href="#ShutTUM.values.Value" title="ShutTUM.values.Value"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Value</span></code></a> based on a extrapolation method</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> – The value for which to find a matching <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> value</li>
<li><strong>method</strong> – <p>An optional extrapolation method to determine the rules for a “match”:</p>
<ul>
<li><code class="docutils literal notranslate"><span class="pre">&quot;closest&quot;</span></code>: the image with the least difference to value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code>: the image with the next larger time stamp than value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;prev&quot;</span></code>: the image with the next smaller time stamp than value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;exact&quot;</span></code>: the image where value.stamp == image.stamp holds is chosen, None otherwise</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The matching IMU value or None if no was found</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ShutTUM.values.Imu.groundtruth">
<code class="descname">groundtruth</code><span class="sig-paren">(</span><em>max_stamp_delta=0.5</em>, <em>position_interpolation=&lt;function Interpolation.linear&gt;</em>, <em>orientation_interpolation=&lt;function Interpolation.slerp&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#Imu.groundtruth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.Imu.groundtruth" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the matching <a class="reference internal" href="#ShutTUM.values.GroundTruth" title="ShutTUM.values.GroundTruth"><code class="xref any py py-class docutils literal notranslate"><span class="pre">GroundTruth</span></code></a> value for this <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> value. Since the motion capture system and the 
IMU sensor are not synced, we need to interpolate between ground truths by time stamp of this <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>max_stamp_delta</strong> – specify the maximal allowed time deviation [s] for interpolation. When the previous 
(or next) closest ground truth value is older (or newer) then this delta, None will be 
returned.</li>
<li><strong>position_interpolation</strong> – a predefined or custom interpolation function to interpolate positions</li>
<li><strong>orientation_interpolation</strong> – a predefined or custom interpolation function to interpolate quaternions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the matching interpolated ground truth</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref any docutils literal notranslate"><span class="pre">ShutTUM.GroundTruth.interpolate</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="ShutTUM.values.Imu.stereo">
<code class="descname">stereo</code><span class="sig-paren">(</span><em>shutter</em>, <em>extrapolation='closest'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ShutTUM/values.html#Imu.stereo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ShutTUM.values.Imu.stereo" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching stereo image for this <a class="reference internal" href="#ShutTUM.values.Imu" title="ShutTUM.values.Imu"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Imu</span></code></a> measurement
:param shutter: The shutter type of the images to find (<code class="docutils literal notranslate"><span class="pre">&quot;global&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;rolling&quot;</span></code>, <strong>not</strong> <code class="docutils literal notranslate"><span class="pre">&quot;both&quot;</span></code>) 
:param extrapolation: An optional extrapolation method to determine the rules for a “match”:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">&quot;closest&quot;</span></code>: the image with the least difference to value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;next&quot;</span></code>: the image with the next larger time stamp than value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;prev&quot;</span></code>: the image with the next smaller time stamp than value.stamp is chosen</li>
<li><code class="docutils literal notranslate"><span class="pre">&quot;exact&quot;</span></code>: the image where <code class="docutils literal notranslate"><span class="pre">value.stamp</span> <span class="pre">==</span> <span class="pre">image.stamp</span></code> holds is chosen, None otherwise</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The matching stereo image or None if no was found</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref any docutils literal notranslate"><span class="pre">ShutTUM.StereoImage.extrapolate</span></code></p>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ShutTUM</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="sequence.html">Sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="devices.html">Devices</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloads.html">Downloads</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="devices.html" title="previous chapter">Devices</a></li>
      <li>Next: <a href="downloads.html" title="next chapter">Downloads</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Thore Goll.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/values.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>